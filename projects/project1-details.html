<!DOCTYPE html>
<html lang="en">

<head>
  
  <script>
  window.dataLayer = window.dataLayer || [];
  </script>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-NFLKQ6W');</script>
  <!-- End Google Tag Manager -->
  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>James Lu - Portfolio</title>
  
   <!-- Embed Markdown -->
  <script type="module" src="https://md-block.verou.me/md-block.js"></script>
  
  <!--
    - favicon
  -->
  <link rel="shortcut icon" href="../assets/images/logo.ico" type="image/x-icon">

  <!--
    - custom css link
  -->
  <link rel="stylesheet" href="../assets/css/style.css">

  <!--
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
  
  

<body>
  
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NFLKQ6W"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!--
    - #MAIN
  -->

  <main>
    
    <button onclick="history.back()">Go Back</button>
 
    <!--
      - #main-content
    -->

    <div class="main-content">


      <!--
        - #ABOUT
      -->

      <article class="about  active" data-page="about">

        <header>
          <h2 class="h2 article-title">Network Anomaly Detection</h2>
        </header>
        
        <section class="about-text">
          <md-block>
            # !!! This page is not finished !!!
            
            
            ## Network Anomaly Detection

            ##### Project Collaborators: *Andrew William, Dan Visitchaichan, Daniel Dinh, Michael Li*

            ### Project Details
            This project involved collaborative work with 4 other data scientists over 10 weeks where we defined the problem, explored and transformed our data, researched solutions, implemented machine learning models to solve the probelm outlined and presented our deliverables to coordinators and other data science peers. The raw data was provided by CyAmast. There are many parts of this project which I have chosen to exclude from this blog due to length, however, I hope this will capture the key features of the project. 

            ### Background
            The Internet of Things (IoT) is a technology that connects various devices, machines, and systems to a single network. It is widely used in many industries because it allows for efficient data gathering. However, these devices often have limited functions and are vulnerable to cyber attacks such as DDoS and MITM, making it important to have protection measures in place, such as network anomaly detection.

            ### Data
            The data provided contained time series network data including packet/byte counts in/out of a number of ports of a number of devices. Below is a snapshot:
            ```python
            data.info()
            ```
            
            ![image](https://user-images.githubusercontent.com/98208084/209839388-429df3b8-320f-4a0d-8de2-08be9d56f2d2.png)
            

            **Here we hypothesise if we are able to classify a new datapoint into a particular flow we are able to observe when an anomaly occurs**

            ### Exploratory Data Analysis
            Our team began by analysing and understanding the provided data. Python was used to calculate statistics and Matplotlib and seaborn packages were utilised to visualise the shape and trends of the time series data. Key observations include: 
            - There was high correlation between corresponding in and out flows of each port
            - There were distinct characteristics to each flow type (this is what we want for accurate classification)

            
            ### Feature Engineering
            Our solution begins with the feature extraction step. This involved transforming raw training and testing data (provided by CyAmast) into training and testing feature datasets for subsequence sizes of 16, 32, 64, and 128. Note, we define a subsequence as a sequence of contiguous data from the original dataset which is transformed into a single instance in the feature datasets. The feature dataset contains 8 features for each labelled flow subsequence: average packet and byte counts for 1-, 2-, 4-, and 8-minute time frames. Furthermore, all observations which have only 0s in their 8 features were dropped from the dataset. 

            A key function used in this process was the smoothen() function which allowed us to create higher time-frame data for extracting features:
            ```python
            def smoothen(data,subsequence_length = 16,n=2):
                if len(data.shape) != 3:
                  print("Subsequence is of wrong shape for our purposes, should be 3 dimensional 
                  --> (n_observations, subsequence size, n_original_features).") 

                # Makes an instance of a flow more coarse by n times.
                #print(f"length of flow instance:{len(subsequence)}")
                temp = np.split(data, subsequence_length/n,axis=1)
                temp = np.array(temp).sum(axis=-2)
                return temp
            ```

            ### Model Training
            For this project we wanted to compare the effectiveness and logistics of both single-class and multi-class machine learning models in classifying network flows. For this reason we tackled this probelm with both single- and multi-class models. 

            |Single-class| multi-class|
            | ---------- | ---------- |
            |GMM, K-Means, Fuzzy C-Means|Random Forest, XGBoost, AdaBoost, SVM, MLP, Logistic Regression| 
            
            
          <md-block>
          
        </section>

    </div>

  </main>



  <!--
    - custom js link
  -->
  <script src="./assets/js/script.js"></script>

  <!--
    - ionicon link
  -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>

</html>
